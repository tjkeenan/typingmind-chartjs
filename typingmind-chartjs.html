<!DOCTYPE html>
<html>
<head>
    <title>Chart.js Plugin for TypingMind</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chart-container {
            width: 100%;
            max-width: 600px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <script>
    window.typingmindPlugin = {
        name: 'Chart.js Plugin',
        version: '1.0.0',
        description: 'Create charts using Chart.js in TypingMind',
        // Command that triggers the plugin
        command: '/chart',
        
        async onCommand(args) {
            try {
                const data = JSON.parse(args);
                const chartContainer = document.createElement('div');
                chartContainer.className = 'chart-container';
                const canvas = document.createElement('canvas');
                chartContainer.appendChild(canvas);
                
                const ctx = canvas.getContext('2d');
                new Chart(ctx, data);
                
                return chartContainer;
            } catch (error) {
                return document.createTextNode('Error: Invalid chart data. Please provide valid Chart.js configuration.');
            }
        },
        
        getHelpText() {
            return `
Create charts using Chart.js. Usage:
/chart {chartConfig}

Example:
/chart {
    "type": "bar",
    "data": {
        "labels": ["Red", "Blue", "Yellow"],
        "datasets": [{
            "label": "My First Dataset",
            "data": [300, 50, 100],
            "backgroundColor": [
                "rgb(255, 99, 132)",
                "rgb(54, 162, 235)",
                "rgb(255, 205, 86)"
            ]
        }]
    }
}
`;
        }
    };
    </script>
</body>
</html>